# Домашняя библиотека.

Библиотека для чтения книг офлайн. На сайт загружено несколько тестовых
книг, которые можно посмотреть по
[ссылке](https://maxkutovoy.github.io/books_parser/pages/index1.html)

Книги берем с сайта [https://tululu.org/](https://tululu.org/).

## Как установить:

### Установить зависимости:

Python3 должен быть уже установлен. Далее используйте `pip` (или `pip3`, есть
конфликт с python2) для установки зависимостей:

```
pip install -r requirements.txt
```

Скачиваем все файлы на свой компьютер. 

## Как использовать:

### Библиотека в виде `html` страницы:

Книги скаченные из раздела "Научная фантастика" можно смотреть в виде html
страницы. Для этого нужно перейти в каталог `pages` и запустить файл `index1.html`.
На этой странице можно выбрать понравившуюся книгу или перейти на другие страницы.

Сейчас с сайта скачано несколько книг для примера. Чтобы скачать больше книг, запустите
программу для скачивания книг из категории "Научная фантастика"
`parse_tululu_category.py` (см. ниже).

После этого оформите скаченные книги в виде `html` страниц запустив команду:
```sh
python render_website.py
```

Сервис не требует дополнительной настройки. Есть возможность скачивать 
книги как по `id` так и из категории "Научная фантастика" по страницам.

### Скачиваем книги по `id`
Для скачивания книг по `id` требуются дополнительные параметры `стартовй 
id книги` с которого начнется скачивание книг и `финальный id` до которого 
книги будут скачиваться. Параметры указываются в числовом формате через 
пробел (пример см. ниже). Если параметры не указаны, то
будут скачиваться книги с id с 1 по 10.

Команда для запуска в терминале Windows:

```sh
python parse_tululu.py 1 100
```

и для MacOS и Linux:

```sh
python3 parse_tululu.py 1 100
```

### Скачиваем книги из раздела "Научная фантастика"

Для скачивания книг из раздела "Научная фантастика" требуются 
дополнительные параметры `стартовая страница` с которой начнется скачивание и 
`финальная страница` до которой книги будут скачиваться включительно. 
Параметр `финальная страница` не обязателен, если его не указать программа 
будет скачивать все книги до конца.

Команда для запуска в терминале Windows:

```sh
python parse_tululu_category.py 1 100
```

и для MacOS и Linux:

```sh
python3 parse_tululu_category.py 1 100
```

Так же программа `parse_tululu_category.py` принимает необязательные 
аргументы:

* `--dest_folder` - после скачивания книг покажет полный путь к каталогу в 
  который эти книги сохранились.
* `--skip_imgs` - если указать данный параметр, то картинки к книгам не 
  будут сохраняться
* `--skip_txt` - если указать данный параметр, то не будут сохраняться 
  сами книги
* `--json_path` [путь_для_сохранения] - позволяет указать путь для 
  сохранения файла `books_description.json`

Например:
```sh
python3 parse_tululu_category.py 1 100 --skip_imgs --json_path 
/home/user/my_directory
```

Книги сохраняются в каталог `books`, а картинки к книгам в 
каталог `images`. Вся информация о скачанных книгах сохраняется в файл 
`books_description.json`, который по умолчанию находится в том же 
каталоге, что и `parse_tululu_category.py`.

## Цель проекта:

Код написан в образовательных целях на курсе для
web-разработчиков [dvmn.org](https://dvmn.org/).
